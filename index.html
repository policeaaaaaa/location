<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title> موقعیت مکانی</title>
  <style>
    /* تمام صفحه رو برای نقشه اشغال کن */
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    #map {
      width: 100%;
      height: 100vh;
    }
  </style>
</head>
<body>
  <div id="map">...</div>

  <script>
    function initMap(lat, lon) {
      const mapFrame = document.createElement('iframe');
      mapFrame.width = '100%';
      mapFrame.height = '100%';
      mapFrame.style.border = 'none';
      mapFrame.src = `https://www.google.com/maps?q=${lat},${lon}&z=15&output=embed`;
      const mapDiv = document.getElementById('map');
      mapDiv.innerHTML = '';
      mapDiv.appendChild(mapFrame);
    }

    window.onload = function() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          function(position) {
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;
            initMap(lat, lon);
          },
          function(error) {
            document.getElementById('map').textContent = 'موقعیت مکانی شما ثبت شد.';
          }
        );
      } else {
        document.getElementById('map').textContent = 'مرورگر شما از Geolocation پشتیبانی نمی‌کند.';
      }
    };
  </script>
</body>
</html>